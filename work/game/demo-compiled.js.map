{"version":3,"sources":["demo.js"],"names":[],"mappings":";;AAAA,OAAO,MAAP,GAAc,YAAY;AACzB,UAAS,IAAT,CAAc,MAAd,EAAsB;AACrB,OAAK,MAAL,GAAY,MAAZ;AACA,OAAK,IAAL,GAAU,OAAO,UAAP,CAAkB,IAAlB,CAAV;AACA,OAAK,KAAL,GAAW,CAAX;AACA,OAAK,KAAL,GAAW,EAAX;AACA,OAAK,QAAL,GAAc,EAAd;AACA,OAAK,MAAL,GAAY,IAAI,MAAJ,CAAW,MAAX,CAAZ;AACA;AACA;AACD,MAAK,SAAL,GAAe;AACd,QAAK,gBAAY;AAChB,QAAK,MAAL;AACA,GAHa;AAId,UAAO,kBAAY;AAClB,QAAK,KAAL;AACA,QAAK,IAAL,CAAU,SAAV,CAAoB,CAApB,EAAsB,CAAtB,EAAwB,OAAO,KAA/B,EAAqC,OAAO,MAA5C;AACA,QAAK,WAAL;AACA,QAAK,cAAL;AACA,QAAK,YAAL;AACA,QAAK,YAAL;AACA,yBAAsB,KAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB,CAAtB;AACA,GAZa;AAad,eAAY,uBAAY;AACvB,QAAK,MAAL,CAAY,KAAZ,CAAkB,kBAAlB,GAAqC,CAAC,KAAK,KAAN,GAAY,CAAZ,GAAc,MAAnD;AACA,GAfa;AAgBd,kBAAe,0BAAY;AAC1B,OAAG,KAAK,KAAL,IAAY,KAAK,KAApB,EAA0B;AACzB,SAAK,KAAL,IAAY,KAAG,KAAK,KAAL,CAAW,KAAK,MAAL,KAAc,EAAzB,CAAf;AACA,QAAI,MAAI,KAAK,MAAL,KAAc,GAAd,GAAkB,CAAlB,GAAoB,CAA5B;AACA,SAAK,QAAL,CAAc,IAAd,CAAmB,IAAI,QAAJ,CAAa,KAAK,MAAlB,EAAyB,GAAzB,CAAnB;AACA;AACA;AACD,OAAG,KAAK,QAAL,CAAc,MAAd,GAAqB,CAAxB,EAA0B;AACzB,QAAI,MAAI,KAAK,QAAL,CAAc,KAAd,EAAR;AACA,UAAI,IAAJ;AACA;AACD,QAAK,QAAL,CAAc,OAAd,CAAsB,UAAU,KAAV,EAAiB;AACtC,UAAM,MAAN;AACA,IAFD;AAGA,GA9Ba;AA+Bd,gBAAa,wBAAY;AACxB,QAAK,MAAL,CAAY,MAAZ,CAAmB,KAAK,KAAxB;AACA,GAjCa;AAkCd,gBAAa,wBAAY;;AAExB,QAAI,IAAI,CAAR,IAAa,KAAK,QAAlB,EAA2B;AAC1B,QAAG,OAAO,MAAP,EAAc,KAAK,MAAnB,EAA0B,KAAK,QAAL,CAAc,CAAd,CAA1B,CAAH,EAA+C;AAC9C;AACA,WAAM,aAAN;AACA;;AAED,YAAQ,GAAR,CAAY,KAAK,QAAL,CAAc,CAAd,EAAiB,KAA7B;AACA,YAAQ,GAAR,CAAY,KAAK,QAAL,CAAc,CAAd,EAAiB,MAA7B;AACA,YAAQ,GAAR,CAAY,KAAK,MAAL,CAAY,CAAxB;AACA;AACD;AAEA;AAhDa,EAAf;AAkDA,KAAI,SAAO,SAAS,aAAT,CAAuB,QAAvB,CAAX;AAAA,KACC,UAAQ,IAAI,IAAJ,CAAS,MAAT,CADT;AAEE,SAAQ,IAAR;AACF,CA/DD","file":"demo-compiled.js","sourcesContent":["window.onload=function () {\r\n\tfunction Game(canvas) {\r\n\t\tthis.canvas=canvas;\r\n\t\tthis.cobj=canvas.getContext(\"2d\");\r\n\t\tthis.frame=0;\r\n\t\tthis.value=40;\r\n\t\tthis.obstacle=[];\r\n\t\tthis.person=new Person(canvas);\r\n\t\t// debugger;\r\n\t}\r\n\tGame.prototype={\r\n\t\tplay:function () {\r\n\t\t\tthis.update();\r\n\t\t},\r\n\t\tupdate:function () {\r\n\t\t\tthis.frame++;\r\n\t\t\tthis.cobj.clearRect(0,0,canvas.width,canvas.height);\r\n\t\t\tthis.updateScene();\r\n\t\t\tthis.updateObstacle();\r\n\t\t\tthis.updatePerson();\r\n\t\t\tthis.updateHitPix();\r\n\t\t\trequestAnimationFrame(this.update.bind(this));\r\n\t\t},\r\n\t\tupdateScene:function () {\r\n\t\t\tthis.canvas.style.backgroundPosition=-this.frame*5+\"px 0\";\r\n\t\t},\r\n\t\tupdateObstacle:function () {\r\n\t\t\tif(this.frame==this.value){\r\n\t\t\t\tthis.value+=40+Math.floor(Math.random()*80);\r\n\t\t\t\tvar num=Math.random()<0.7?1:2;\r\n\t\t\t\tthis.obstacle.push(new Obstacle(this.canvas,num));\r\n\t\t\t\t//console.log(this.value);\r\n\t\t\t}\r\n\t\t\tif(this.obstacle.length>4){\r\n\t\t\t\tvar obj=this.obstacle.shift();\r\n\t\t\t\tobj=null;\r\n\t\t\t}\r\n\t\t\tthis.obstacle.forEach(function (value) {\r\n\t\t\t\tvalue.update();\r\n\t\t\t})\r\n\t\t},\r\n\t\tupdatePerson:function () {\r\n\t\t\tthis.person.update(this.frame);\r\n\t\t},\r\n\t\tupdateHitPix:function () {\r\n\t\t\t\r\n\t\t\tfor(var i in this.obstacle){\r\n\t\t\t\tif(hitPix(canvas,this.person,this.obstacle[i])){\r\n\t\t\t\t\tdebugger\r\n\t\t\t\t\talert(\"you are die\")\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(this.obstacle[i].width)\r\n\t\t\t\tconsole.log(this.obstacle[i].height)\r\n\t\t\t\tconsole.log(this.person.y)\r\n\t\t\t}\r\n\t\t\t// console.log(this.person.x+this.person.width)\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\tvar canvas=document.querySelector(\"canvas\"),\r\n\t\tnewgame=new Game(canvas);\r\n\t \tnewgame.play();\r\n}"]}